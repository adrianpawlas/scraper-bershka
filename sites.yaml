- brand: Bershka
  merchant: Bershka
  source: scraper
  country: us
  debug: true
  respect_robots: false
  api:
    # Category endpoints that return ALL product IDs for each category
    category_endpoints:
      - id: "1010834564"
        name: "men_all"
        gender: "MAN"
        # Full API URL for this category (replace with new URL when it changes)
        category_api_url: "https://www.bershka.com/itxrest/3/catalog/store/45009578/40259549/productsArray?categoryId=1010834564&productIds=201096327%2C191849698%2C201304218%2C204544074%2C201927866%2C205222885%2C204203891%2C204203890%2C203971838%2C203677704%2C202812583%2C202680979%2C202411683%2C202238171%2C201967673%2C201129538%2C201096326%2C201096315%2C200711323%2C200672117&appId=1&languageId=-15&locale=en_GB"
        # Fallback product IDs if category endpoint fails
        fallback_ids: "199850199,200346172,200711323,203971838,201304218,204544074,205222885,204203891,204203890,203677704,202812583,202680979,202411683,202238171,201967673,201927866,201129538,201096327,201096326,201096315"
      - id: "1010193212"
        name: "women_jackets_trench"
        gender: "WOMAN"
        # Full API URL for this category (replace with new URL when it changes)
        category_api_url: "https://www.bershka.com/itxrest/3/catalog/store/45009578/40259549/productsArray?categoryId=1010193212&productIds=189276819%2C189277126%2C189975385%2C190668687%2C196958508%2C189836534%2C189276745%2C190668686%2C205025006%2C196700066%2C196700067%2C191585747%2C205025003%2C189907075%2C198810474%2C198810475%2C198409429%2C191849717%2C192346450%2C190110934%2C189276930&appId=1&languageId=-15&locale=en_GB"
        fallback_ids: "201665294,199061499,189277126,189975385,190668687,189836542,198409429,191849717,196700066,196700067,190668686,205025006,189276745,196951849,194635088,189277174,202797791,190668688,196951862,196951861"
      - id: "1010240019"
        name: "women_coats"
        gender: "WOMAN"
        category_api_url: "https://www.bershka.com/itxrest/3/catalog/store/45009578/40259549/productsArray?categoryId=1010240019&productIds=191107022%2C189277173%2C204042832%2C189277172%2C202798264%2C189277171%2C189276786%2C202798279%2C189276784%2C189276782%2C189276785%2C190966805%2C195184008%2C191567193%2C191567194%2C197287397%2C194635099%2C194635098%2C189836544%2C189836543&appId=1&languageId=-15&locale=en_GB"
        fallback_ids: "191107022,189836544,189836543,206080611,189277147,189277145,196513966,189277146,195184008,195183997,193334216,195183999,189277214,190425491,196539604,191245237,191107025,193036802,197298336,196958055"
      - id: "1010276029"
        name: "women_jeans"
        gender: "WOMAN"
        category_api_url: "https://www.bershka.com/itxrest/3/catalog/store/45009578/40259549/productsArray?categoryId=1010276029&productIds=204234905%2C208227334%2C193750495%2C189277029%2C196951967%2C196951966%2C205025032%2C196951986%2C197299074%2C199061494%2C196951985%2C193056302%2C193056303%2C194635118%2C194635119%2C201653849%2C201198143%2C200346175%2C189276952%2C189276955%2C189276951%2C189276953&appId=1&languageId=-15&locale=en_GB"
        fallback_ids: "204234905,208227334,193056302,193056303,196379419,197475602,194635105,196946582,196946577,196946581,197454222,195682617,193898321,191239080,196661257,193334236,193334235,189277029,193750495,201198143,200346175"
      - id: "1010193216"
        name: "women_pants"
        gender: "WOMAN"
        category_api_url: "https://www.bershka.com/itxrest/3/catalog/store/45009578/40259549/productsArray?categoryId=1010193216&productIds=205676865%2C208227340%2C199767297%2C192537537%2C193885271%2C205025004%2C191983814%2C191983813%2C207206287%2C202459054%2C199125540%2C199125541%2C199219990%2C189277143%2C204042838%2C198311888%2C202459056%2C206551553%2C206551552%2C206551554&appId=1&languageId=-15&locale=en_GB"
        fallback_ids: "205676865,208227340,192519455,197632445,198187159,197632443,197632453,206551553,199125540,199125541,199219990,206551552,206551554,202459054,204042838,198311888,196951627,196951629,205527770,196951628"
      - id: "1010193213"
        name: "women_dresses_jumpsuit"
        gender: "WOMAN"
        category_api_url: "https://www.bershka.com/itxrest/3/catalog/store/45009578/40259549/productsArray?categoryId=1010193213&productIds=206098478%2C206098470%2C196958028%2C192659228%2C198888253%2C203622818%2C202098272%2C197716827%2C202266882%2C206143318%2C198282748%2C201082411%2C192519460%2C196958149%2C195554265%2C200227971%2C200227970%2C199942359%2C199942358%2C197573693&appId=1&languageId=-15&locale=en_GB"
        fallback_ids: "206098478,206098470,194030441,196958028,199942359,199942358,204245232,203622818,202098272,197573693,203712806,198552027,198552026,198552028,198282751,197716827,200227977,198282748,199756268,199756269"
      - id: "1010193223"
        name: "women_sweaters_cardigans"
        gender: "WOMAN"
        category_api_url: "https://www.bershka.com/itxrest/3/catalog/store/45009578/40259549/productsArray?categoryId=1010193223&productIds=191867628%2C199756257%2C199756258%2C198552052%2C191567204%2C191567205%2C191567203%2C194030446%2C191983812%2C195859485%2C197831038%2C195183995%2C194030447%2C191567223%2C191567222%2C189486676%2C194669571%2C195318230%2C194669576%2C199767272%2C199767273&appId=1&languageId=-15&locale=en_GB"
        fallback_ids: "204067044,204067043,199756257,199756258,191867628,191567223,191567222,189486676,197831038,194669576,207206240,195682642,191867629,191849716,191849715,197322966,197322968,197322967,191567204,204042835"
      - id: "1010193222"
        name: "women_sweatshirts_hoodies"
        gender: "WOMAN"
        category_api_url: "https://www.bershka.com/itxrest/3/catalog/store/45009578/40259549/productsArray?categoryId=1010193222&productIds=205470743%2C205462797%2C203392689%2C198552031%2C203210422%2C196513967%2C198552032%2C201304217%2C197381853%2C203302139%2C195682638%2C197716820%2C201493027%2C202818372%2C204054385%2C207374437%2C197716804%2C197716803%2C195682631%2C194788954&appId=1&languageId=-15&locale=en_GB"
        fallback_ids: "205470743,205462797,198552031,203210422,203302139,195682638,197716820,196513967,198552032,202818372,204054385,207374437,196951895,196951894,193056309,195834048,197716804,197716803,199756271,199756272,199756273"
      - id: "1010193220"
        name: "women_tops_bodysuits"
        gender: "WOMAN"
        category_api_url: "https://www.bershka.com/itxrest/3/catalog/store/45009578/40259549/productsArray?categoryId=1010193220&productIds=206098469%2C202757041%2C206805014%2C197322949%2C201818674%2C203622821%2C204245233%2C191722643%2C195710380%2C197716835%2C196830011%2C196830012%2C205462803%2C202238185%2C198034868%2C206080228%2C199767245%2C196951706%2C199105562%2C196958310&appId=1&languageId=-15&locale=en_GB"
        fallback_ids: "206098469,202757041,205462803,197322949,196830011,196830012,203622821,204245233,196958310,203008975,203008976,206080228,199767245,206805015,203712798,193028967,201818674,191722643,195710380,197565959,205527764,197565958"
      - id: "1010193217"
        name: "women_tshirts"
        gender: "WOMAN"
        category_api_url: "https://www.bershka.com/itxrest/3/catalog/store/45009578/40259549/productsArray?categoryId=1010193217&productIds=204937263%2C205470746%2C208227341%2C205462810%2C205470747%2C205470745%2C204937265%2C204937264%2C206098469%2C202757041%2C197716818%2C202935353%2C198552047%2C201081924%2C193182119%2C196958146%2C196958145%2C196958143%2C196958144%2C198000442&appId=1&languageId=-15&locale=en_GB"
        fallback_ids: "204937263,205470746,208227341,205462810,205470747,205470745,204937265,204937264,206098469,202757041,197716818,204291857,203302142,202680984,198000442,203398386,201081924,193182119,205462803,202757039"
      - id: "1010193221"
        name: "women_shirts_blouses"
        gender: "WOMAN"
        category_api_url: "https://www.bershka.com/itxrest/3/catalog/store/45009578/40259549/productsArray?categoryId=1010193221&productIds=196946568%2C196946571%2C200309568%2C196946569%2C202798275%2C207206781%2C196946565%2C203597898%2C205566793%2C197299019%2C202680970%2C198911575%2C205120768%2C201870276%2C201870275%2C198341844%2C191102668%2C190927201%2C190927202%2C202797833%2C198409452&appId=1&languageId=-15&locale=en_GB"
        fallback_ids: "196946568,196946571,200309568,196946569,202798275,207206781,196946565,203597898,205566793,197299019,202680970,202797833,198409452,192004822,192004823,189276683,189276684,198341844,191102668,190927201"
      - id: "1010280023"
        name: "women_skirts"
        gender: "WOMAN"
        category_api_url: "https://www.bershka.com/itxrest/3/catalog/store/45009578/40259549/productsArray?categoryId=1010280023&productIds=206551558%2C200458825%2C199372104%2C196951956%2C196951957%2C199809311%2C202680968%2C206080599%2C189277213%2C202669583%2C202669584%2C198656632%2C190964400%2C189836530%2C189276845%2C203793125%2C203793126%2C201239536%2C206080959%2C201239537&appId=1&languageId=-15&locale=en_GB"
        fallback_ids: "206551558,199372104,205566713,200458825,199809311,206551559,189277213,197378444,201854771,197659246,203793125,203793126,206551555,206551556,197299655,196951957,196951956,197322971,197322972,202680968,206080599"
      - id: "1010194517"
        name: "women_shorts_jorts"
        gender: "WOMAN"
        category_api_url: "https://www.bershka.com/itxrest/3/catalog/store/45009578/40259549/productsArray?categoryId=1010194517&productIds=200227992%2C206080960%2C202535406%2C202459045%2C202459046%2C198373427%2C198409414%2C197622276%2C197298422%2C196958003%2C196958005%2C196958004%2C198373428%2C206080226%2C203277883%2C196957965%2C196957967%2C196957969%2C196957970%2C196957966&appId=1&languageId=-15&locale=en_GB"
        fallback_ids: "200227992,206080960,202535406,197622276,197298422,198373427,203277883,202459045,202459046,198373428,206080226,196957965,196957967,196957969,196957970,196957966,196957968,198409414,197622277,189277008"
      - id: "1010429555"
        name: "women_matching_sets"
        gender: "WOMAN"
        category_api_url: "https://www.bershka.com/itxrest/3/catalog/store/45009578/40259549/productsArray?categoryId=1010429555&productIds=207373921%2C201665294%2C201653849%2C201855278%2C193750494%2C205025167%2C199767297%2C207206655%2C206805014%2C206551558%2C202798233%2C201818674%2C201621442%2C204043355%2C199121623%2C197806420%2C204042764%2C202411681%2C202680968%2C204726627%2C201172232%2C200832242&appId=1&languageId=-15&locale=en_GB"
        fallback_ids: "207373921,201665294,201653849,184103499,196951895,196951627,200213705,196951898,196951631,207206656,206805015,206551559,200308978,193056302,205566946,203565710,203422386,205025167,199767297,201855278,196951849,193750494"
      - id: "1010361506"
        name: "women_swimwear"
        gender: "WOMAN"
        category_api_url: "https://www.bershka.com/itxrest/3/catalog/store/45009578/40259549/productsArray?categoryId=1010361506&productIds=196958122%2C196958367%2C196958042%2C196958304%2C197298431%2C196951886%2C196958435%2C196958436%2C196958303%2C204066840%2C204066844%2C204067035%2C204066901%2C196951885%2C204067034%2C204066900&appId=1&languageId=-15&locale=en_GB"
        fallback_ids: "196958122,196958367,196958042,196958304,197298431,196951886,196958435,196958436,196958303,204066840,204066844,204067035,204066901,196951885,204067034,204066900"
      - id: "1010193192"
        name: "women_shoes"
        gender: "WOMAN"
        category: "footwear"
        category_api_url: "https://www.bershka.com/itxrest/3/catalog/store/45009578/40259549/productsArray?categoryId=1010193192&productIds=201855340%2C191239082%2C204042854%2C196958599%2C204067106%2C208227402%2C204067108%2C208227864%2C189486678%2C189836532%2C196958596%2C195184034%2C201854840%2C202797916%2C192519465%2C196958543%2C194976853%2C192519451%2C200309632%2C190782790%2C191261414&appId=1&languageId=-15&locale=en_GB"
        fallback_ids: "201855340,191239082,204042854,196958599,204067106,208227402,204067108,208227864,202226400,198208934,189486678,189836532,196958596,195184034,201854840,202797916,192519465,196958543,197299027,196958586"
      - id: "1010193138"
        name: "women_bags"
        gender: "WOMAN"
        category: "accessory"
        category_api_url: "https://www.bershka.com/itxrest/3/catalog/store/45009578/40259549/productsArray?categoryId=1010193138&productIds=204634216%2C197298903%2C196951975%2C196951911%2C189276935%2C200766649%2C203302140%2C200863240%2C196951910%2C189276755%2C197309091%2C196951819%2C196951822%2C196951820%2C196014192%2C205025484%2C201129527%2C201129528%2C189276808%2C196957981%2C196958027&appId=1&languageId=-15&locale=en_GB"
        fallback_ids: "204634216,196951911,189276935,196951910,189276755,197309091,200766649,197298903,196951975,201129527,201129528,196957980,196957979,191124988,189276999,190110933,189276808,196957981,196958027,196958217"
      - id: "1010193134"
        name: "women_accessories"
        gender: "WOMAN"
        category: "accessory"
        category_api_url: "https://www.bershka.com/itxrest/3/catalog/store/45009578/40259549/productsArray?categoryId=1010193134&productIds=204634216%2C200396071%2C200863240%2C196951911%2C197298903%2C196951975%2C196951910%2C189276755%2C197309091%2C196958261%2C189276935%2C203793126%2C203793127%2C202459049%2C207374434%2C207373971%2C202459050%2C196958217%2C196957980%2C196957979&appId=1&languageId=-15&locale=en_GB"
        fallback_ids: "204634216,196951911,196951910,189276755,197309091,196958261,189276935,197298903,196951975,205527778,199573591,203793125,202459049,207374434,207373971,202459050,200766649,200524407,207374182,196958217"
    # URL templates
    category_ids_url: "https://www.bershka.com/itxrest/3/catalog/store/45009578/40259549/category/{category_id}/product?languageId=-1&appId=1"
    products_url: "https://www.bershka.com/itxrest/3/catalog/store/45009578/40259549/productsArray?categoryId={category_id}&productIds={product_ids}"
    product_url_template: "https://www.bershka.com/us/{slug}-c0p{product_id}.html"
    # Batch size for product API calls
    batch_size: 50
    items_path: "products"
    field_map:
      external_id: "id"
      product_id: "id"
      title: ["nameEn", "name"]
      description: ["bundleProductSummaries[0].detail.longDescription", "bundleProductSummaries[0].detail.description"]
      price: "bundleProductSummaries[0].detail.colors[0].sizes[0].price"
      currency: "'EUR'"
      # Use deliveryUrl from xmedia which has the full image URL
      image_url: "bundleProductSummaries[0].detail.xmedia[0].xmediaItems[0].medias[0].extraInfo.deliveryUrl"
      brand: "'Bershka'"
      sizes: "bundleProductSummaries[0].detail.colors[0].sizes[].name"
    headers:
      User-Agent: "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/127.0.0.0 Safari/537.36"
      Accept: "application/json, text/plain, */*"
      Accept-Language: "en-GB,en;q=0.9"
      Referer: "https://www.bershka.com/"
    debug: true
    prewarm:
      - "https://www.bershka.com/us/"
